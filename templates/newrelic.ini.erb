;
; This file is managed by the puppet module: <%= @module_name %>
; Any local changes will be overwritten during the next puppet run
;
; This file contains the various settings for the New Relic PHP agent. There
; are many options, all of which are described in detail at the following URL:
; https://newrelic.com/docs/php/php-agent-phpini-settings
;

extension=newrelic.so

[newrelic]
newrelic.enabled=<%= @agent_enable %>
newrelic.license = "<%= @newrelic_license_key -%>"
newrelic.logfile = "<%= @agent_logfile -%>"
newrelic.loglevel = "<%= @agent_loglevel -%>"
newrelic.appname = "<%= @agent_appname -%>"

<% if @daemon_agent_startup -%>
newrelic.daemon.logfile = "<%= @daemon_logfile -%>"
newrelic.daemon.loglevel = "<%= @daemon_loglevel -%>"
newrelic.daemon.max_threads = <%= @daemon_max_threads %>
newrelic.daemon.ssl = <%= @daemon_ssl %>
<% if @daemon_proxy -%>
newrelic.daemon.proxy = "<%= @daemon_proxy -%>"
<% end -%>
newrelic.daemon.pidfile = "<%= @daemon_pidfile -%>"
newrelic.daemon.location = "<%= @daemon_location -%>"
newrelic.daemon.collector_host = "<%= @daemon_collector_host -%>"
<% if @daemon_auditlog -%>
newrelic.daemon.auditlog = "<%= @daemon_auditlog -%>"
<% end -%>
newrelic.daemon.dont_launch = 0
<% else -%>
newrelic.daemon.dont_launch = 3
<% end -%>
newrelic.daemon.port = "<%= @daemon_port -%>"

newrelic.capture_params = <%= @agent_capture_params %>
<% if @agent_ignored_params -%>
newrelic.ignored_params = "<%= @agent_ignored_params -%>"
<% end -%>
newrelic.error_collector.enabled = <%= @agent_error_collector_enable %>
newrelic.error_collector.record_database_errors = <%= @agent_error_collector_record_database_errors %>
newrelic.error_collector.prioritize_api_errors = <%= @agent_error_collector_pri_api %>
newrelic.browser_monitoring.auto_instrument = <%= @agent_browser_mon_auto_inst %>
newrelic.transaction_tracer.enabled = <%= @agent_transaction_tracer_enable %>
newrelic.transaction_tracer.threshold = "<%= @agent_transaction_tracer_threshold -%>"
newrelic.transaction_tracer.detail = <%= @agent_transaction_tracer_detail %>
newrelic.transaction_tracer.slow_sql = <%= @agent_transaction_tracer_slow_sql %>
newrelic.transaction_tracer.stack_trace_threshold = <%= @agent_transaction_tracer_stack_trace_threshold %>
newrelic.transaction_tracer.explain_enabled = <%= @agent_transaction_tracer_explain_enabled %>
newrelic.transaction_tracer.explain_threshold = <%= @agent_transaction_tracer_explain_threshold %>
newrelic.transaction_tracer.record_sql = "<%= @agent_transaction_tracer_record_sql -%>"
<% if @agent_transaction_tracer_custom -%>
newrelic.transaction_tracer.custom = "<%= @agent_transaction_tracer_custom -%>"
<% end -%>
newrelic.framework = "<%= @agent_framework -%>"
newrelic.webtransaction.name.remove_trailing_path = <%= @agent_webtransaction_name_remove_trailing_path %>
<% if @agent_webtransaction_name_functions -%>
newrelic.webtransaction.name.functions = "<%= @agent_webtransaction_name_functions -%>"
<% end -%>
<% if @agent_webtransaction_name_files -%>
newrelic.webtransaction.name.files = "<%= @agent_webtransaction_name_files -%>"
<% end -%>

